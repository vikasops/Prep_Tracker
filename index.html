<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevOps Preparation Tracker - Simple Version</title>
    <style>
:root {
  --color-primary: #2563eb;
  --color-primary-light: #3b82f6;
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-danger: #ef4444;
  --color-background: #f8fafc;
  --color-surface: #ffffff;
  --color-border: #e2e8f0;
  --color-text: #1e293b;
  --color-text-muted: #64748b;
  --border-radius: 8px;
  --shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  --transition: all 0.2s ease-in-out;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  line-height: 1.6;
  color: var(--color-text);
  background-color: var(--color-background);
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1rem;
}

/* Header */
.header {
  background: var(--color-surface);
  border-bottom: 1px solid var(--color-border);
  padding: 1rem 0;
  position: sticky;
  top: 0;
  z-index: 100;
}

.header .container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 1rem;
}

.header__title {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-primary);
}

.header__controls {
  display: flex;
  gap: 0.5rem;
  align-items: center;
  flex-wrap: wrap;
}

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: var(--border-radius);
  font-size: 0.875rem;
  font-weight: 500;
  text-decoration: none;
  cursor: pointer;
  transition: var(--transition);
  white-space: nowrap;
}

.btn--sm {
  padding: 0.375rem 0.75rem;
  font-size: 0.8rem;
}

.btn--primary {
  background: var(--color-primary);
  color: white;
}

.btn--primary:hover {
  background: var(--color-primary-light);
}

.btn--outline {
  background: transparent;
  color: var(--color-primary);
  border: 1px solid var(--color-primary);
}

.btn--outline:hover {
  background: var(--color-primary);
  color: white;
}

/* Simple welcome */
.welcome {
  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);
  color: white;
  padding: 3rem 0;
  text-align: center;
}

.welcome h1 {
  font-size: 2.5rem;
  margin-bottom: 1rem;
}

.welcome p {
  font-size: 1.125rem;
  margin-bottom: 2rem;
  opacity: 0.9;
}

.status-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 9999px;
  font-size: 0.875rem;
  margin-bottom: 1rem;
}

/* Main content */
.main {
  padding: 2rem 0;
}

.card {
  background: var(--color-surface);
  border-radius: var(--border-radius);
  border: 1px solid var(--color-border);
  box-shadow: var(--shadow);
  margin-bottom: 1.5rem;
}

.card__header {
  padding: 1.25rem;
  border-bottom: 1px solid var(--color-border);
}

.card__body {
  padding: 1.25rem;
}

/* Progress */
.progress-bar-container {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
}

.progress-bar {
  flex: 1;
  height: 12px;
  background-color: var(--color-border);
  border-radius: 6px;
  overflow: hidden;
}

.progress-bar__fill {
  height: 100%;
  background: linear-gradient(90deg, var(--color-success) 0%, var(--color-primary) 100%);
  transition: width 0.3s ease;
  width: 0%;
}

.progress-percentage {
  font-weight: 600;
  font-size: 1.1rem;
  color: var(--color-primary);
  min-width: 4rem;
}

.progress-stats {
  display: flex;
  justify-content: space-between;
  font-size: 0.875rem;
  color: var(--color-text-muted);
}

/* Topics */
.topic-section {
  margin-bottom: 1rem;
}

.topic-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
  transition: var(--transition);
  padding: 1rem 1.25rem;
}

.topic-header:hover {
  background-color: rgba(37, 99, 235, 0.02);
}

.topic-header__left {
  display: flex;
  align-items: center;
  gap: 1rem;
  flex: 1;
}

.topic-header__right {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.topic-toggle {
  color: var(--color-text-muted);
  background: none;
  border: none;
  padding: 0.5rem;
  cursor: pointer;
  border-radius: var(--border-radius);
}

.topic-toggle:hover {
  background: var(--color-border);
}

.topic-info {
  flex: 1;
}

.topic-title {
  font-size: 1.125rem;
  font-weight: 600;
  margin-bottom: 0.25rem;
  color: var(--color-text);
}

.topic-description {
  font-size: 0.875rem;
  color: var(--color-text-muted);
  margin: 0;
}

.progress-stats-small {
  font-size: 0.875rem;
  color: var(--color-text-muted);
  text-align: center;
}

.topic-content {
  border-top: 1px solid var(--color-border);
  padding: 0;
  display: none;
}

.subtopics-list {
  padding: 0;
}

.subtopic-item {
  padding: 1rem 1.25rem;
  border-bottom: 1px solid #f1f5f9;
  transition: var(--transition);
}

.subtopic-item:last-child {
  border-bottom: none;
}

.subtopic-item:hover {
  background-color: rgba(37, 99, 235, 0.02);
}

.subtopic-item.completed {
  background-color: rgba(16, 185, 129, 0.05);
}

.subtopic-item.completed .subtopic-name {
  text-decoration: line-through;
  color: var(--color-text-muted);
}

.subtopic-header {
  margin-bottom: 0.75rem;
}

.checkbox-label {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  cursor: pointer;
  font-size: 0.95rem;
}

.checkbox-label input[type="checkbox"] {
  margin-top: 0.125rem;
  transform: scale(1.2);
}

.subtopic-name {
  flex: 1;
  font-weight: 500;
  line-height: 1.4;
}

.subtopic-comments {
  margin-left: 2rem;
}

.subtopic-comments textarea {
  width: 100%;
  min-height: 60px;
  padding: 0.5rem;
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius);
  font-size: 0.875rem;
  resize: vertical;
  transition: var(--transition);
  font-family: inherit;
}

.subtopic-comments textarea:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

.form-control {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius);
  font-size: 1rem;
}

.form-control:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

/* Footer */
.footer {
  margin-top: 4rem;
  padding: 2rem 0;
  border-top: 1px solid var(--color-border);
  background: var(--color-surface);
  text-align: center;
  color: var(--color-text-muted);
  font-size: 0.875rem;
}

/* Responsive */
@media (max-width: 768px) {
  .welcome h1 {
    font-size: 2rem;
  }

  .header .container {
    flex-direction: column;
    gap: 1rem;
  }

  .topic-header {
    flex-direction: column;
    align-items: stretch;
    gap: 1rem;
  }
}
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header__title">🚀 DevOps Preparation Tracker</div>
            <div class="header__controls">
                <button class="btn btn--outline btn--sm" id="clearDataBtn">Clear All</button>
                <button class="btn btn--outline btn--sm" id="exportBtn">Export</button>
                <button class="btn btn--primary btn--sm" id="expandAllBtn">Expand All</button>
            </div>
        </div>
    </header>

    <section class="welcome">
        <div class="container">
            <h1>DevOps Interview Preparation</h1>
            <p>Track your progress across 8 key technology areas with 80+ essential topics</p>
            <div class="status-badge">
                <span>💾</span>
                <span>Auto-saved to your browser</span>
            </div>
            <div class="status-badge">
                <span>🔄</span>
                <span id="lastSaved">Ready to start</span>
            </div>
        </div>
    </section>

    <main class="main">
        <div class="container">
            <!-- Overall Progress -->
            <section>
                <div class="card">
                    <div class="card__body">
                        <h2>📈 Overall Progress</h2>
                        <div class="progress-bar-container">
                            <div class="progress-bar">
                                <div class="progress-bar__fill" id="overallProgressFill"></div>
                            </div>
                            <span class="progress-percentage" id="overallProgressText">0%</span>
                        </div>
                        <div class="progress-stats">
                            <span id="completedStats">0 of 80 topics completed</span>
                            <span id="lastUpdated">Ready to start</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Search -->
            <section>
                <input type="text" class="form-control" id="searchInput" 
                       placeholder="🔍 Search topics (e.g., Docker, Kubernetes, CI/CD...)">
            </section>

            <!-- Topics -->
            <section style="margin-top: 2rem;">
                <div id="topicsContainer">
                    <!-- Topics will be loaded here -->
                </div>
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p><strong>Super Simple DevOps Tracker</strong> - No sign up required! Your progress is automatically saved to your browser.</p>
            <p style="margin-top: 0.5rem;">Works offline • No databases • No complex setup • Just start tracking!</p>
        </div>
    </footer>

    <script>
// Super Simple DevOps Tracker - No backend needed!
class SimpleDevOpsTracker {
    constructor() {
        this.storageKey = 'devops-tracker-progress';
        this.allExpanded = false;

        // DevOps topics data
        this.data = {
            "topics": [
                {
                    "id": "terraform",
                    "name": "Terraform",
                    "description": "Infrastructure as Code with Terraform",
                    "subtopics": [
                        {"id": "terraform-basics", "name": "Terraform Basics & Architecture", "completed": false, "comments": ""},
                        {"id": "iac-concepts", "name": "Infrastructure as Code (IaC) Concepts", "completed": false, "comments": ""},
                        {"id": "terraform-commands", "name": "Terraform Commands & CLI", "completed": false, "comments": ""},
                        {"id": "state-management", "name": "State Management & Remote State", "completed": false, "comments": ""},
                        {"id": "terraform-modules", "name": "Modules & Module Development", "completed": false, "comments": ""},
                        {"id": "variables-datasources", "name": "Variables & Data Sources", "completed": false, "comments": ""},
                        {"id": "providers", "name": "Providers & Provider Configuration", "completed": false, "comments": ""},
                        {"id": "workspaces", "name": "Terraform Workspaces", "completed": false, "comments": ""},
                        {"id": "terraform-security", "name": "Best Practices & Security", "completed": false, "comments": ""},
                        {"id": "terraform-scenarios", "name": "Scenario-Based Questions", "completed": false, "comments": ""}
                    ]
                },
                {
                    "id": "linux", 
                    "name": "Linux",
                    "description": "Linux System Administration & Operations",
                    "subtopics": [
                        {"id": "linux-fundamentals", "name": "Linux Fundamentals & Architecture", "completed": false, "comments": ""},
                        {"id": "file-system", "name": "File System & Directory Structure", "completed": false, "comments": ""},
                        {"id": "command-line", "name": "Command Line & Shell Scripting", "completed": false, "comments": ""},
                        {"id": "process-management", "name": "Process Management", "completed": false, "comments": ""},
                        {"id": "system-admin", "name": "System Administration", "completed": false, "comments": ""},
                        {"id": "network-config", "name": "Network Configuration", "completed": false, "comments": ""},
                        {"id": "security-permissions", "name": "Security & Permissions", "completed": false, "comments": ""},
                        {"id": "package-management", "name": "Package Management", "completed": false, "comments": ""},
                        {"id": "system-monitoring", "name": "System Monitoring & Troubleshooting", "completed": false, "comments": ""},
                        {"id": "performance-tuning", "name": "Performance Tuning", "completed": false, "comments": ""}
                    ]
                },
                {
                    "id": "kubernetes",
                    "name": "Kubernetes", 
                    "description": "Container Orchestration with Kubernetes",
                    "subtopics": [
                        {"id": "k8s-architecture", "name": "Kubernetes Architecture & Components", "completed": false, "comments": ""},
                        {"id": "pods-deployments", "name": "Pods, Deployments & Services", "completed": false, "comments": ""},
                        {"id": "configmaps-secrets", "name": "ConfigMaps & Secrets", "completed": false, "comments": ""},
                        {"id": "storage-pv", "name": "Storage & Persistent Volumes", "completed": false, "comments": ""},
                        {"id": "k8s-networking", "name": "Networking & Ingress", "completed": false, "comments": ""},
                        {"id": "rbac-security", "name": "RBAC & Security", "completed": false, "comments": ""},
                        {"id": "monitoring-logging", "name": "Monitoring & Logging", "completed": false, "comments": ""},
                        {"id": "helm", "name": "Helm & Package Management", "completed": false, "comments": ""},
                        {"id": "k8s-troubleshooting", "name": "Troubleshooting & Debugging", "completed": false, "comments": ""},
                        {"id": "k8s-best-practices", "name": "Best Practices & Scenarios", "completed": false, "comments": ""}
                    ]
                },
                {
                    "id": "jenkins",
                    "name": "Jenkins",
                    "description": "CI/CD Automation with Jenkins", 
                    "subtopics": [
                        {"id": "jenkins-architecture", "name": "Jenkins Architecture & Setup", "completed": false, "comments": ""},
                        {"id": "pipeline-development", "name": "Pipeline Development (Declarative & Scripted)", "completed": false, "comments": ""},
                        {"id": "plugin-management", "name": "Plugin Management", "completed": false, "comments": ""},
                        {"id": "build-deployment", "name": "Build & Deployment Automation", "completed": false, "comments": ""},
                        {"id": "jenkins-security", "name": "Security & User Management", "completed": false, "comments": ""},
                        {"id": "master-slave", "name": "Master-Slave Configuration", "completed": false, "comments": ""},
                        {"id": "git-integration", "name": "Integration with Git & SCM", "completed": false, "comments": ""},
                        {"id": "docker-k8s-integration", "name": "Docker & Kubernetes Integration", "completed": false, "comments": ""},
                        {"id": "jenkins-monitoring", "name": "Monitoring & Troubleshooting", "completed": false, "comments": ""},
                        {"id": "jenkins-best-practices", "name": "Best Practices", "completed": false, "comments": ""}
                    ]
                },
                {
                    "id": "github",
                    "name": "GitHub",
                    "description": "Version Control & GitHub Workflows",
                    "subtopics": [
                        {"id": "git-fundamentals", "name": "Git Fundamentals & Commands", "completed": false, "comments": ""},
                        {"id": "branching-merging", "name": "Branching & Merging Strategies", "completed": false, "comments": ""},
                        {"id": "github-actions", "name": "GitHub Actions & Workflows", "completed": false, "comments": ""},
                        {"id": "pull-requests", "name": "Pull Requests & Code Review", "completed": false, "comments": ""},
                        {"id": "repo-management", "name": "Repository Management", "completed": false, "comments": ""},
                        {"id": "github-security", "name": "GitHub Security Features", "completed": false, "comments": ""},
                        {"id": "api-integrations", "name": "API & Integrations", "completed": false, "comments": ""},
                        {"id": "team-collaboration", "name": "Collaboration & Team Management", "completed": false, "comments": ""},
                        {"id": "advanced-git", "name": "Advanced Git Operations", "completed": false, "comments": ""},
                        {"id": "git-best-practices", "name": "Best Practices & Troubleshooting", "completed": false, "comments": ""}
                    ]
                },
                {
                    "id": "gitlab",
                    "name": "GitLab", 
                    "description": "GitLab CI/CD & DevOps Platform",
                    "subtopics": [
                        {"id": "gitlab-architecture", "name": "GitLab Architecture & Setup", "completed": false, "comments": ""},
                        {"id": "gitlab-cicd", "name": "GitLab CI/CD Pipelines", "completed": false, "comments": ""},
                        {"id": "runners-jobs", "name": "Runners & Job Management", "completed": false, "comments": ""},
                        {"id": "gitlab-security", "name": "Security & Access Control", "completed": false, "comments": ""},
                        {"id": "container-registry", "name": "Container Registry", "completed": false, "comments": ""},
                        {"id": "gitlab-monitoring", "name": "Monitoring & Analytics", "completed": false, "comments": ""},
                        {"id": "gitlab-api", "name": "API & Integrations", "completed": false, "comments": ""},
                        {"id": "multi-project", "name": "Multi-project Pipelines", "completed": false, "comments": ""},
                        {"id": "gitlab-vs-github", "name": "GitLab vs GitHub Comparison", "completed": false, "comments": ""},
                        {"id": "gitlab-best-practices", "name": "Best Practices", "completed": false, "comments": ""}
                    ]
                },
                {
                    "id": "argocd",
                    "name": "ArgoCD",
                    "description": "GitOps Continuous Delivery with ArgoCD",
                    "subtopics": [
                        {"id": "gitops-principles", "name": "GitOps Principles & Concepts", "completed": false, "comments": ""},
                        {"id": "argocd-architecture", "name": "ArgoCD Architecture & Components", "completed": false, "comments": ""},
                        {"id": "app-deployment", "name": "Application Deployment & Management", "completed": false, "comments": ""},
                        {"id": "sync-strategies", "name": "Sync Strategies & Policies", "completed": false, "comments": ""},
                        {"id": "multi-cluster", "name": "Multi-cluster Management", "completed": false, "comments": ""},
                        {"id": "argocd-rbac", "name": "RBAC & Security", "completed": false, "comments": ""},
                        {"id": "argocd-monitoring", "name": "Monitoring & Observability", "completed": false, "comments": ""},
                        {"id": "argocd-troubleshooting", "name": "Troubleshooting & Debugging", "completed": false, "comments": ""},
                        {"id": "cicd-integration", "name": "Integration with CI/CD", "completed": false, "comments": ""},
                        {"id": "argocd-scenarios", "name": "Best Practices & Scenarios", "completed": false, "comments": ""}
                    ]
                },
                {
                    "id": "networking",
                    "name": "Networking",
                    "description": "Network Fundamentals for DevOps",
                    "subtopics": [
                        {"id": "osi-tcpip", "name": "OSI & TCP/IP Model", "completed": false, "comments": ""},
                        {"id": "ip-subnetting", "name": "IP Addressing & Subnetting", "completed": false, "comments": ""},
                        {"id": "dns-dhcp", "name": "DNS & DHCP", "completed": false, "comments": ""},
                        {"id": "routing-switching", "name": "Routing & Switching", "completed": false, "comments": ""},
                        {"id": "load-balancing", "name": "Load Balancing & Proxies", "completed": false, "comments": ""},
                        {"id": "firewalls", "name": "Firewalls & Security", "completed": false, "comments": ""},
                        {"id": "cloud-networking", "name": "Cloud Networking (VPC, Subnets)", "completed": false, "comments": ""},
                        {"id": "container-networking", "name": "Container Networking", "completed": false, "comments": ""},
                        {"id": "network-troubleshooting", "name": "Troubleshooting Tools", "completed": false, "comments": ""},
                        {"id": "network-security", "name": "Network Security & Best Practices", "completed": false, "comments": ""}
                    ]
                }
            ]
        };

        this.init();
    }

    init() {
        console.log('Initializing Simple DevOps Tracker...');

        // Load saved progress
        this.loadProgress();

        // Render topics
        this.renderTopics();
        this.updateProgress();

        // Bind events
        this.bindEvents();

        console.log('Simple tracker initialized successfully!');
    }

    loadProgress() {
        try {
            const saved = localStorage.getItem(this.storageKey);
            if (saved) {
                const savedData = JSON.parse(saved);
                if (savedData.topics) {
                    // Merge saved data with current structure (in case we add new topics)
                    savedData.topics.forEach(savedTopic => {
                        const currentTopic = this.data.topics.find(t => t.id === savedTopic.id);
                        if (currentTopic) {
                            savedTopic.subtopics.forEach(savedSubtopic => {
                                const currentSubtopic = currentTopic.subtopics.find(st => st.id === savedSubtopic.id);
                                if (currentSubtopic) {
                                    currentSubtopic.completed = savedSubtopic.completed;
                                    currentSubtopic.comments = savedSubtopic.comments || '';
                                }
                            });
                        }
                    });

                    console.log('Progress loaded from localStorage');
                    this.updateLastSaved('Loaded from browser');
                }
            }
        } catch (error) {
            console.error('Error loading progress:', error);
        }
    }

    saveProgress() {
        try {
            localStorage.setItem(this.storageKey, JSON.stringify(this.data));
            console.log('Progress saved to localStorage');
            this.updateLastSaved('Auto-saved');
        } catch (error) {
            console.error('Error saving progress:', error);
            this.updateLastSaved('Save failed');
        }
    }

    updateLastSaved(message) {
        const lastSavedEl = document.getElementById('lastSaved');
        if (lastSavedEl) {
            lastSavedEl.textContent = message + ' at ' + new Date().toLocaleTimeString();
        }
    }

    bindEvents() {
        // Search functionality
        document.getElementById('searchInput').addEventListener('input', (e) => {
            this.filterTopics(e.target.value);
        });

        // Expand/Collapse all
        document.getElementById('expandAllBtn').addEventListener('click', () => {
            this.toggleAllTopics();
        });

        // Export progress
        document.getElementById('exportBtn').addEventListener('click', () => {
            this.exportProgress();
        });

        // Clear all data
        document.getElementById('clearDataBtn').addEventListener('click', () => {
            if (confirm('Are you sure you want to clear all progress? This cannot be undone.')) {
                this.clearAllData();
            }
        });
    }

    renderTopics() {
        console.log('Rendering topics...');
        const container = document.getElementById('topicsContainer');
        container.innerHTML = '';

        this.data.topics.forEach((topic) => {
            const completedCount = topic.subtopics.filter(st => st.completed).length;
            const totalCount = topic.subtopics.length;
            const percentage = Math.round((completedCount / totalCount) * 100);

            const topicElement = document.createElement('div');
            topicElement.className = 'topic-section';
            topicElement.setAttribute('data-topic-id', topic.id);

            topicElement.innerHTML = `
                <div class="card">
                    <div class="card__header topic-header" data-topic="${topic.id}">
                        <div class="topic-header__left">
                            <button class="topic-toggle" aria-expanded="false">▶</button>
                            <div class="topic-info">
                                <h3 class="topic-title">${topic.name}</h3>
                                <p class="topic-description">${topic.description}</p>
                            </div>
                        </div>
                        <div class="topic-header__right">
                            <div class="progress-stats-small">
                                <strong>${percentage}%</strong><br>
                                ${completedCount}/${totalCount}
                            </div>
                        </div>
                    </div>
                    <div class="card__body topic-content">
                        <div class="subtopics-list">
                            ${topic.subtopics.map(subtopic => `
                                <div class="subtopic-item ${subtopic.completed ? 'completed' : ''}" data-subtopic-id="${subtopic.id}">
                                    <div class="subtopic-header">
                                        <label class="checkbox-label">
                                            <input type="checkbox" ${subtopic.completed ? 'checked' : ''} 
                                                   data-topic="${topic.id}" data-subtopic="${subtopic.id}">
                                            <span class="subtopic-name">${subtopic.name}</span>
                                        </label>
                                    </div>
                                    <div class="subtopic-comments">
                                        <textarea placeholder="Add your notes and comments here..." 
                                                  data-topic="${topic.id}" data-subtopic="${subtopic.id}">${subtopic.comments || ''}</textarea>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;

            container.appendChild(topicElement);
        });

        this.bindTopicEvents();
    }

    bindTopicEvents() {
        // Topic toggle functionality
        document.querySelectorAll('.topic-header').forEach(header => {
            header.addEventListener('click', (e) => {
                if (e.target.closest('.progress-stats-small')) return;

                const topicId = header.getAttribute('data-topic');
                this.toggleTopic(topicId);
            });
        });

        // Checkbox change events
        document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', (e) => {
                const topicId = e.target.getAttribute('data-topic');
                const subtopicId = e.target.getAttribute('data-subtopic');
                this.toggleSubtopic(topicId, subtopicId, e.target.checked);
            });
        });

        // Comment textarea events
        document.querySelectorAll('.subtopic-comments textarea').forEach(textarea => {
            textarea.addEventListener('blur', (e) => {
                const topicId = e.target.getAttribute('data-topic');
                const subtopicId = e.target.getAttribute('data-subtopic');
                this.updateSubtopicComment(topicId, subtopicId, e.target.value);
            });
        });
    }

    toggleTopic(topicId) {
        const topicElement = document.querySelector(`[data-topic-id="${topicId}"]`);
        const content = topicElement.querySelector('.topic-content');
        const toggle = topicElement.querySelector('.topic-toggle');
        const isExpanded = content.style.display === 'block';

        if (isExpanded) {
            content.style.display = 'none';
            toggle.textContent = '▶';
            toggle.setAttribute('aria-expanded', 'false');
        } else {
            content.style.display = 'block';
            toggle.textContent = '▼';
            toggle.setAttribute('aria-expanded', 'true');
        }
    }

    toggleAllTopics() {
        const expandAllBtn = document.getElementById('expandAllBtn');

        this.allExpanded = !this.allExpanded;

        document.querySelectorAll('.topic-section').forEach(topicElement => {
            const content = topicElement.querySelector('.topic-content');
            const toggle = topicElement.querySelector('.topic-toggle');

            if (this.allExpanded) {
                content.style.display = 'block';
                toggle.textContent = '▼';
                toggle.setAttribute('aria-expanded', 'true');
            } else {
                content.style.display = 'none';
                toggle.textContent = '▶';
                toggle.setAttribute('aria-expanded', 'false');
            }
        });

        expandAllBtn.textContent = this.allExpanded ? 'Collapse All' : 'Expand All';
    }

    toggleSubtopic(topicId, subtopicId, completed) {
        const topic = this.data.topics.find(t => t.id === topicId);
        const subtopic = topic.subtopics.find(st => st.id === subtopicId);

        subtopic.completed = completed;

        // Update UI
        const subtopicElement = document.querySelector(`[data-subtopic-id="${subtopicId}"]`);
        if (completed) {
            subtopicElement.classList.add('completed');
        } else {
            subtopicElement.classList.remove('completed');
        }

        // Update topic progress
        const completedCount = topic.subtopics.filter(st => st.completed).length;
        const totalCount = topic.subtopics.length;
        const percentage = Math.round((completedCount / totalCount) * 100);

        const topicElement = document.querySelector(`[data-topic-id="${topicId}"]`);
        const progressStats = topicElement.querySelector('.progress-stats-small');
        progressStats.innerHTML = `<strong>${percentage}%</strong><br>${completedCount}/${totalCount}`;

        this.updateProgress();
        this.saveProgress();
    }

    updateSubtopicComment(topicId, subtopicId, comment) {
        const topic = this.data.topics.find(t => t.id === topicId);
        const subtopic = topic.subtopics.find(st => st.id === subtopicId);

        subtopic.comments = comment;
        this.saveProgress();
    }

    updateProgress() {
        const totalSubtopics = this.data.topics.reduce((sum, topic) => sum + topic.subtopics.length, 0);
        const completedSubtopics = this.data.topics.reduce((sum, topic) => 
            sum + topic.subtopics.filter(st => st.completed).length, 0);

        const overallPercentage = Math.round((completedSubtopics / totalSubtopics) * 100);

        // Update overall progress
        const progressFill = document.getElementById('overallProgressFill');
        const progressText = document.getElementById('overallProgressText');
        const completedStats = document.getElementById('completedStats');
        const lastUpdated = document.getElementById('lastUpdated');

        progressFill.style.width = `${overallPercentage}%`;
        progressText.textContent = `${overallPercentage}%`;
        completedStats.textContent = `${completedSubtopics} of ${totalSubtopics} topics completed`;
        lastUpdated.textContent = `Last updated: ${new Date().toLocaleString()}`;
    }

    filterTopics(searchTerm) {
        const normalizedSearch = searchTerm.toLowerCase().trim();

        document.querySelectorAll('.topic-section').forEach(topicElement => {
            const topicName = topicElement.querySelector('.topic-title').textContent.toLowerCase();
            const subtopics = Array.from(topicElement.querySelectorAll('.subtopic-name')).map(el => el.textContent.toLowerCase());

            const topicMatches = topicName.includes(normalizedSearch);
            const subtopicMatches = subtopics.some(subtopic => subtopic.includes(normalizedSearch));

            if (normalizedSearch === '' || topicMatches || subtopicMatches) {
                topicElement.style.display = 'block';

                if (normalizedSearch !== '' && subtopicMatches) {
                    const content = topicElement.querySelector('.topic-content');
                    const toggle = topicElement.querySelector('.topic-toggle');
                    content.style.display = 'block';
                    toggle.textContent = '▼';
                    toggle.setAttribute('aria-expanded', 'true');
                }
            } else {
                topicElement.style.display = 'none';
            }
        });
    }

    exportProgress() {
        const totalSubtopics = this.data.topics.reduce((sum, topic) => sum + topic.subtopics.length, 0);
        const completedSubtopics = this.data.topics.reduce((sum, topic) => 
            sum + topic.subtopics.filter(st => st.completed).length, 0);

        let exportText = `DevOps Preparation Progress Report\n`;
        exportText += `Generated: ${new Date().toLocaleString()}\n`;
        exportText += `Overall Progress: ${completedSubtopics}/${totalSubtopics} (${Math.round((completedSubtopics / totalSubtopics) * 100)}%)\n\n`;

        this.data.topics.forEach(topic => {
            const completed = topic.subtopics.filter(st => st.completed).length;
            const total = topic.subtopics.length;
            const percentage = Math.round((completed / total) * 100);

            exportText += `${topic.name}: ${completed}/${total} (${percentage}%)\n`;

            topic.subtopics.forEach(subtopic => {
                const status = subtopic.completed ? '✓' : '○';
                exportText += `  ${status} ${subtopic.name}`;
                if (subtopic.comments) {
                    exportText += ` - ${subtopic.comments}`;
                }
                exportText += '\n';
            });
            exportText += '\n';
        });

        // Create and download file
        const blob = new Blob([exportText], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `devops-prep-progress-${new Date().toISOString().split('T')[0]}.txt`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);

        alert('Progress exported successfully!');
    }

    clearAllData() {
        // Reset all data
        this.data.topics.forEach(topic => {
            topic.subtopics.forEach(subtopic => {
                subtopic.completed = false;
                subtopic.comments = '';
            });
        });

        // Clear localStorage
        localStorage.removeItem(this.storageKey);

        // Re-render everything
        this.renderTopics();
        this.updateProgress();

        alert('All progress cleared!');
        console.log('All data cleared');
    }
}

// Initialize the application
document.addEventListener('DOMContentLoaded', () => {
    console.log('DOM loaded, initializing Simple DevOps Tracker...');

    try {
        window.tracker = new SimpleDevOpsTracker();
    } catch (error) {
        console.error('Failed to initialize tracker:', error);
        document.body.innerHTML = `
            <div style="padding: 2rem; text-align: center;">
                <h2>❌ Failed to Load</h2>
                <p>DevOps Tracker failed to initialize. Please refresh the page.</p>
            </div>
        `;
    }
});
    </script>
</body>
</html>
